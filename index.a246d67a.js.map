{"mappings":"AAAA,MAAMA,EAAO,CACXC,UAAWC,SAASC,cAAc,SAClCC,aAAcF,SAASC,cAAc,+BACrCE,mBAAoBH,SAASC,cAAc,aAC3CG,gBAAiBJ,SAASC,cAAc,8BACxCI,SAAUL,SAASC,cAAc,iBACjCK,KAAMN,SAASC,cAAc,SAa/B,SAASM,EAAiBC,IAEE,QAAxBA,EAAIC,OAAOC,UACXF,EAAIC,OAAOE,UAAUC,SAAS,+BAE9Bd,EAAKK,mBAAmBQ,UAAUE,OAAO,sBAG3Cf,EAAKM,gBAAgBU,mBACnB,aA8BJ,SAA4BC,GAC1B,MAAMC,EAAUD,EAAQE,WAAWhB,cACjC,8BAEIiB,EAAOH,EAAQE,WAAWhB,cAAc,4BACxCkB,EAAQJ,EAAQE,WAAWhB,cAAc,OAC/C,MAAO,uCAAuCe,EAAQI,qDAAqDF,EAAKE,yDAAyDD,EAAME,WAAWF,EAAMG,QAnC9LC,CAAmBf,EAAIC,SAGzBX,EAAKQ,KAAKkB,MAAMC,eAAiB,OAEjC,MAAMC,EAAU1B,SAAS2B,gBAAgBH,MAAMI,iBAAiB,cAChE5B,SAAS6B,KAAKL,MAAMM,SAAW,QAC/B9B,SAAS6B,KAAKL,MAAMO,IAAM,IAAIL,IAE9BM,OAAOC,iBAAiB,UAAWC,GACnCpC,EAAKK,mBAAmB8B,iBAAiB,QAASE,GA4BpD,SAASD,EAAW1B,GAClB,GAAgB,WAAZA,EAAI4B,IAAkB,CACxB,MAAMP,EAAO7B,SAAS6B,KAChBH,EAAUG,EAAKL,MAAMO,IAC3BF,EAAKL,MAAMM,SAAW,GACtBD,EAAKL,MAAMO,IAAM,GACjBC,OAAOK,SAAS,GAA8B,EAA3BC,SAASZ,GAAW,MAEvC5B,EAAKQ,KAAKkB,MAAMC,eAAiB,SAEjC3B,EAAKK,mBAAmBQ,UAAU4B,IAAI,sBACtCzC,EAAKM,gBAAgBoC,UAAY,GAGnCR,OAAOS,oBAAoB,UAAWP,GACtCpC,EAAKK,mBAAmBsC,oBAAoB,QAASN,GAGvD,SAASA,EAAqB3B,GAC5B,IAAKA,EAAIC,OAAOE,UAAUC,SAAS,YAAa,OAEhD,MAAMiB,EAAO7B,SAAS6B,KAChBH,EAAUG,EAAKL,MAAMO,IAC3BF,EAAKL,MAAMM,SAAW,GACtBD,EAAKL,MAAMO,IAAM,GACjBC,OAAOK,SAAS,GAA8B,EAA3BC,SAASZ,GAAW,MAEvC5B,EAAKQ,KAAKkB,MAAMC,eAAiB,SAEjC3B,EAAKK,mBAAmBQ,UAAU4B,IAAI,sBACtCzC,EAAKM,gBAAgBoC,UAAY,GAEjC1C,EAAKK,mBAAmBsC,oBAAoB,QAASN,GACrDH,OAAOS,oBAAoB,UAAWP,GA3FxCpC,EAAKC,UAAUkC,iBAAiB,QAAS1B,GACzCT,EAAKI,aAAa+B,iBAAiB,QAAS1B,GAC5CT,EAAKO,SAAS4B,iBAAiB,SA+B/B,WACE,MAAMJ,EAAO7B,SAAS6B,KAChBH,EAAUG,EAAKL,MAAMO,IAC3BF,EAAKL,MAAMM,SAAW,GACtBD,EAAKL,MAAMO,IAAM,GACjBC,OAAOK,SAAS,GAA8B,EAA3BC,SAASZ,GAAW,MAEvC5B,EAAKQ,KAAKkB,MAAMC,eAAiB,SAEjC3B,EAAKK,mBAAmBQ,UAAU4B,IAAI,sBACtCzC,EAAKM,gBAAgBoC,UAAY,GAEjC1C,EAAKK,mBAAmBsC,oBAAoB,QAASN,GACrDH,OAAOS,oBAAoB,UAAWP,MA3CxCF,OAAOC,iBAAiB,UAAU,KAChCjC,SAAS2B,gBAAgBH,MAAMkB,YAC7B,aACA,GAAGV,OAAON","sources":["src/js/technology-modal.js"],"sourcesContent":["const refs = {\n  container: document.querySelector('.grid'),\n  mobContainer: document.querySelector('.technology__mobile-gallery'),\n  technologyBackdrop: document.querySelector('.backdrop'),\n  technologyModal: document.querySelector('.technology-modal__content'),\n  closeBtn: document.querySelector('.modal-button'),\n  html: document.querySelector('html'),\n};\n\nrefs.container.addEventListener('click', onClickModalOpen);\nrefs.mobContainer.addEventListener('click', onClickModalOpen);\nrefs.closeBtn.addEventListener('click', onBtnClickClose);\nwindow.addEventListener('scroll', () => {\n  document.documentElement.style.setProperty(\n    '--scroll-y',\n    `${window.scrollY}px`\n  );\n});\n\nfunction onClickModalOpen(evt) {\n  if (\n    evt.target.nodeName === 'IMG' ||\n    evt.target.classList.contains('technology__picture-title')\n  ) {\n    refs.technologyBackdrop.classList.remove('backdrop_is-hidden');\n  }\n\n  refs.technologyModal.insertAdjacentHTML(\n    'afterbegin',\n    createModalContent(evt.target)\n  );\n\n  refs.html.style.scrollBehavior = 'auto';\n\n  const scrollY = document.documentElement.style.getPropertyValue('--scroll-y');\n  document.body.style.position = 'fixed';\n  document.body.style.top = `-${scrollY}`;\n\n  window.addEventListener('keydown', onEscClose);\n  refs.technologyBackdrop.addEventListener('click', onBackdropClickClose);\n}\n\nfunction onBtnClickClose() {\n  const body = document.body;\n  const scrollY = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(scrollY || '0') * -1);\n\n  refs.html.style.scrollBehavior = 'smooth';\n\n  refs.technologyBackdrop.classList.add('backdrop_is-hidden');\n  refs.technologyModal.innerHTML = '';\n\n  refs.technologyBackdrop.removeEventListener('click', onBackdropClickClose);\n  window.removeEventListener('keydown', onEscClose);\n}\n\nfunction createModalContent(element) {\n  const heading = element.parentNode.querySelector(\n    '.technology__picture-title'\n  );\n  const text = element.parentNode.querySelector('.technology__description');\n  const image = element.parentNode.querySelector('img');\n  return `<h2 class=\"technology-modal__title\">${heading.textContent}</h2><p class=\"technology-modal__text\">${text.textContent}</p><img class=\"technology-modal__img\" src=${image.src} alt=${image.alt}/>`;\n}\n\nfunction onEscClose(evt) {\n  if (evt.key === 'Escape') {\n    const body = document.body;\n    const scrollY = body.style.top;\n    body.style.position = '';\n    body.style.top = '';\n    window.scrollTo(0, parseInt(scrollY || '0') * -1);\n\n    refs.html.style.scrollBehavior = 'smooth';\n\n    refs.technologyBackdrop.classList.add('backdrop_is-hidden');\n    refs.technologyModal.innerHTML = '';\n  }\n\n  window.removeEventListener('keydown', onEscClose);\n  refs.technologyBackdrop.removeEventListener('click', onBackdropClickClose);\n}\n\nfunction onBackdropClickClose(evt) {\n  if (!evt.target.classList.contains('backdrop')) return;\n\n  const body = document.body;\n  const scrollY = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(scrollY || '0') * -1);\n\n  refs.html.style.scrollBehavior = 'smooth';\n\n  refs.technologyBackdrop.classList.add('backdrop_is-hidden');\n  refs.technologyModal.innerHTML = '';\n\n  refs.technologyBackdrop.removeEventListener('click', onBackdropClickClose);\n  window.removeEventListener('keydown', onEscClose);\n}\n"],"names":["$2c71e097da99a821$var$refs","container","document","querySelector","mobContainer","technologyBackdrop","technologyModal","closeBtn","html","$2c71e097da99a821$var$onClickModalOpen","evt","target","nodeName","classList","contains","remove","insertAdjacentHTML","element","heading","parentNode","text","image","textContent","src","alt","$2c71e097da99a821$var$createModalContent","style","scrollBehavior","scrollY","documentElement","getPropertyValue","body","position","top","window","addEventListener","$2c71e097da99a821$var$onEscClose","$2c71e097da99a821$var$onBackdropClickClose","key","scrollTo","parseInt","add","innerHTML","removeEventListener","setProperty"],"version":3,"file":"index.a246d67a.js.map"}